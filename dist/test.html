<html>
<head>
</head>
<body>
	<canvas></canvas>
	<svg id="svg" version="1.1" baseProfile="full" width="1000" height="600" xmlns="http://www.w3.org/2000/svg">
		<path class="square" d="M100 100 h 90 h100 l-30 20 z"/>
		<path class="circle" d="M10 10 h 30 L 40 20 L 20 60 L16 70 L29 78 L18 80z"/>

		<path class="square" d="
    M 170 170
    l 2.000 0.042
    l 1.998 0.084
    l 1.996 0.126
    l 1.993 0.167
    l 1.989 0.209
    l 1.984 0.251
    l 1.979 0.292
    l 1.972 0.334
    l 1.965 0.375
    l 1.956 0.416
    l 1.947 0.457
    l 1.937 0.497
    l 1.926 0.538
    l 1.915 0.578
    l 1.902 0.618
    l 1.889 0.658
    l 1.875 0.697
    l 1.860 0.736
    l 1.844 0.775
    l 1.827 0.813
    l 1.810 0.852
    l 1.791 0.889
    l 1.772 0.927
    l 1.753 0.964
    l 1.732 1.000
    l 1.711 1.036
    l 1.689 1.072
    l 1.666 1.107
    l 1.642 1.141
    l 1.618 1.176
    l 1.593 1.209
    l 1.567 1.242
    l 1.541 1.275
    l 1.514 1.307
    l 1.486 1.338
    l 1.458 1.369
    l 1.429 1.399
    l 1.399 1.429
    l 1.369 1.458
    l 1.338 1.486
    l 1.307 1.514
    l 1.275 1.541
    l 1.242 1.567
    l 1.209 1.593
    l 1.176 1.618
    l 1.141 1.642
    l 1.107 1.666
    l 1.072 1.689
    l 1.036 1.711
    l 1.000 1.732
    l 0.964 1.753
    l 0.927 1.772
    l 0.889 1.791
    l 0.852 1.810
    l 0.813 1.827
    l 0.775 1.844
    l 0.736 1.860
    l 0.697 1.875
    l 0.658 1.889
    l 0.618 1.902
    l 0.578 1.915
    l 0.538 1.926
    l 0.497 1.937
    l 0.457 1.947
    l 0.416 1.956
    l 0.375 1.965
    l 0.334 1.972
    l 0.292 1.979
    l 0.251 1.984
    l 0.209 1.989
    l 0.167 1.993
    l 0.126 1.996
    l 0.084 1.998
    l 0.042 2.000
    l 0.000 2.000
    l -0.042 2.000
    l -0.084 1.998
    l -0.126 1.996
    l -0.167 1.993
    l -0.209 1.989
    l -0.251 1.984
    l -0.292 1.979
    l -0.334 1.972
    l -0.375 1.965
    l -0.416 1.956
    l -0.457 1.947
    l -0.497 1.937
    l -0.538 1.926
    l -0.578 1.915
    l -0.618 1.902
    l -0.658 1.889
    l -0.697 1.875
    l -0.736 1.860
    l -0.775 1.844
    l -0.813 1.827
    l -0.852 1.810
    l -0.889 1.791
    l -0.927 1.772
    l -0.964 1.753
    l -1.000 1.732
    l -1.036 1.711
    l -1.072 1.689
    l -1.107 1.666
    l -1.141 1.642
    l -1.176 1.618
    l -1.209 1.593
    l -1.242 1.567
    l -1.275 1.541
    l -1.307 1.514
    l -1.338 1.486
    l -1.369 1.458
    l -1.399 1.429
    l -1.429 1.399
    l -1.458 1.369
    l -1.486 1.338
    l -1.514 1.307
    l -1.541 1.275
    l -1.567 1.242
    l -1.593 1.209
    l -1.618 1.176
    l -1.642 1.141
    l -1.666 1.107
    l -1.689 1.072
    l -1.711 1.036
    l -1.732 1.000
    l -1.753 0.964
    l -1.772 0.927
    l -1.791 0.889
    l -1.810 0.852
    l -1.827 0.813
    l -1.844 0.775
    l -1.860 0.736
    l -1.875 0.697
    l -1.889 0.658
    l -1.902 0.618
    l -1.915 0.578
    l -1.926 0.538
    l -1.937 0.497
    l -1.947 0.457
    l -1.956 0.416
    l -1.965 0.375
    l -1.972 0.334
    l -1.979 0.292
    l -1.984 0.251
    l -1.989 0.209
    l -1.993 0.167
    l -1.996 0.126
    l -1.998 0.084
    l -2.000 0.042
    l -2.000 0.000
    l -2.000 -0.042
    l -1.998 -0.084
    l -1.996 -0.126
    l -1.993 -0.167
    l -1.989 -0.209
    l -1.984 -0.251
    l -1.979 -0.292
    l -1.972 -0.334
    l -1.965 -0.375
    l -1.956 -0.416
    l -1.947 -0.457
    l -1.937 -0.497
    l -1.926 -0.538
    l -1.915 -0.578
    l -1.902 -0.618
    l -1.889 -0.658
    l -1.875 -0.697
    l -1.860 -0.736
    l -1.844 -0.775
    l -1.827 -0.813
    l -1.810 -0.852
    l -1.791 -0.889
    l -1.772 -0.927
    l -1.753 -0.964
    l -1.732 -1.000
    l -1.711 -1.036
    l -1.689 -1.072
    l -1.666 -1.107
    l -1.642 -1.141
    l -1.618 -1.176
    l -1.593 -1.209
    l -1.567 -1.242
    l -1.541 -1.275
    l -1.514 -1.307
    l -1.486 -1.338
    l -1.458 -1.369
    l -1.429 -1.399
    l -1.399 -1.429
    l -1.369 -1.458
    l -1.338 -1.486
    l -1.307 -1.514
    l -1.275 -1.541
    l -1.242 -1.567
    l -1.209 -1.593
    l -1.176 -1.618
    l -1.141 -1.642
    l -1.107 -1.666
    l -1.072 -1.689
    l -1.036 -1.711
    l -1.000 -1.732
    l -0.964 -1.753
    l -0.927 -1.772
    l -0.889 -1.791
    l -0.852 -1.810
    l -0.813 -1.827
    l -0.775 -1.844
    l -0.736 -1.860
    l -0.697 -1.875
    l -0.658 -1.889
    l -0.618 -1.902
    l -0.578 -1.915
    l -0.538 -1.926
    l -0.497 -1.937
    l -0.457 -1.947
    l -0.416 -1.956
    l -0.375 -1.965
    l -0.334 -1.972
    l -0.292 -1.979
    l -0.251 -1.984
    l -0.209 -1.989
    l -0.167 -1.993
    l -0.126 -1.996
    l -0.084 -1.998
    l -0.042 -2.000
    l 0.000 -2.000
    l 0.042 -2.000
    l 0.084 -1.998
    l 0.126 -1.996
    l 0.167 -1.993
    l 0.209 -1.989
    l 0.251 -1.984
    l 0.292 -1.979
    l 0.334 -1.972
    l 0.375 -1.965
    l 0.416 -1.956
    l 0.457 -1.947
    l 0.497 -1.937
    l 0.538 -1.926
    l 0.578 -1.915
    l 0.618 -1.902
    l 0.658 -1.889
    l 0.697 -1.875
    l 0.736 -1.860
    l 0.775 -1.844
    l 0.813 -1.827
    l 0.852 -1.810
    l 0.889 -1.791
    l 0.927 -1.772
    l 0.964 -1.753
    l 1.000 -1.732
    l 1.036 -1.711
    l 1.072 -1.689
    l 1.107 -1.666
    l 1.141 -1.642
    l 1.176 -1.618
    l 1.209 -1.593
    l 1.242 -1.567
    l 1.275 -1.541
    l 1.307 -1.514
    l 1.338 -1.486
    l 1.369 -1.458
    l 1.399 -1.429
    l 1.429 -1.399
    l 1.458 -1.369
    l 1.486 -1.338
    l 1.514 -1.307
    l 1.541 -1.275
    l 1.567 -1.242
    l 1.593 -1.209
    l 1.618 -1.176
    l 1.642 -1.141
    l 1.666 -1.107
    l 1.689 -1.072
    l 1.711 -1.036
    l 1.732 -1.000
    l 1.753 -0.964
    l 1.772 -0.927
    l 1.791 -0.889
    l 1.810 -0.852
    l 1.827 -0.813
    l 1.844 -0.775
    l 1.860 -0.736
    l 1.875 -0.697
    l 1.889 -0.658
    l 1.902 -0.618
    l 1.915 -0.578
    l 1.926 -0.538
    l 1.937 -0.497
    l 1.947 -0.457
    l 1.956 -0.416
    l 1.965 -0.375
    l 1.972 -0.334
    l 1.979 -0.292
    l 1.984 -0.251
    l 1.989 -0.209
    l 1.993 -0.167
    l 1.996 -0.126
    l 1.998 -0.084
    l 2.000 -0.042
    l 2.000 0.000
    "/>
		<path class="circle" d="M 170.000 190.000L 190.000 204.641L 187.321 180.000L 210.000 170.000L 187.321 160.000L 190.000 135.359L 170.000 150.000L 150.000 135.359L 152.679 160.000L 130.000 170.000L 152.679 180.000L 150.000 204.641z"/>
	</svg>
	<button id="start">start</button>
</body>
<script src="morph.js"></script>
<script>


var from = document.querySelectorAll('.square');
var to = document.querySelectorAll('.circle');

document.querySelector('#start').addEventListener('click', function(e) {
	e.preventDefault();
	animate();
});

function animate() {
	if(animate.ticking) {
		return;
	}

	animate.ticking = true;
	var option = {
		duration: 400,
		easeMode: 'easeInOut',
		done: function() {
			animate.ticking = false;
		}
	};
	Array.prototype.forEach.call(from,function(val, index) {
		morph(val, to[index], option);
	});

	var temp = from;
	from = to;
	to = temp;
}

</script>
</html>